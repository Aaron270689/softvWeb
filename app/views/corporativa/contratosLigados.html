



<div class="modal-header">
  <button type="button" class="close" ng-click="$ctrl.cancel()" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
  <h5 class="modal-title" id="modal-title">Contratos Ligados</h5>
</div>
<div class="modal-body" id="modal-body">
  <div class="row">
    <div class="col-md-12">
      <div class="col-md-4">
        <input type="file" id="inputFile2" accept=".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel">
        <button class="btn btn-info btn-xs" ng-click="$ctrl.ValidaArchivo();">Validar contratos</button>
      </div>
      <div class="col-md-4"></div>
      <div class="col-md-4"><button class="btn btn-success btn-xs" ng-click="$ctrl.clientesModal()"><i class="fa fa-plus" aria-hidden="true"></i> AÃ±adir</button></div>

    </div>

 

    </div>


    
      <br>
      <ul dnd-list="$ctrl.contratos" class="list-group" style="max-height: 300px; overflow-y: scroll;">
        <li ng-repeat="item in $ctrl.contratos" dnd-draggable="item" dnd-moved="$ctrl.contratos.splice($index, 1)" dnd-effect-allowed="move"
          dnd-selected="models.selected = item" ng-class="{'selected': models.selected === item}" class="list-group-item">
          <p style="font-size:12px;"><span class="badge" style="background-color:#d9534f">{{$index + 1}}</span><b>&nbsp&nbsp</b>{{item.CONTRATO}}&nbsp&nbsp&nbsp&nbsp{{ item.Nombre }} {{ item.Apellido_Paterno }} {{ item.Apellido_Materno}}&nbsp&nbsp&nbsp<b ng-if="item.Proporcional==true" style="color: #d9534f">PROPORCIONAL</b>
          </p>
         <!-- <span class="badge" style="background-color:#d9534f">{{$index + 1}}</span><p><span class="badge">{{item.CONTRATO}}</span><p ng-if="item.Proporcional==true"><b>PROPORCIONAL</b></p><p ng-if="item.Proporcional==false"></p> {{ item.Nombre }} {{ item.Apellido_Paterno }} {{ item.Apellido_Materno
          }}</p>-->
        </li>
      </ul>
      <hr>
      <div class="row"  >
        <form angular-validator-submit="$ctrl.cambioNivel()" name="contratoForm" novalidate angular-validator>
        <div class="col-md-3">

          Cambiar nivel de
        </div>
        <div class="col-md-2">

 <input type="number" class="form-control input-sm" validate-on="dirty" name="Nivelant" ng-model="$ctrl.Nivelant"  min="1" max="{{$ctrl.contratos.length}}" required nvalid-message="'La prioridad solo es del 1 al {{ $ctrl.contratos.length  }}'" required-message="'Este campo es obligatorio.'" >

        </div>
        <div class="col-md-3">

  <input type="number" class="form-control input-sm" validate-on="dirty" name="Nivelnue" ng-model="$ctrl.Nivelnue"  min="1" max="{{$ctrl.contratos.length}}" required nvalid-message="'La prioridad solo es del 1 al {{ $ctrl.contratos.length  }}'" required-message="'Este campo es obligatorio.'" >

        </div>
        <div class="col-md-2">

 <button type="submit"  class="btn ink-reaction btn-flat btn-xs btn-primary" ><i class="md md-swap-horiz
"></i>Cambiar</button>


        </div>
        </form>
      </div>
    </div>
  </div>
</div>
<div class="modal-footer">
  <button class="btn btn-default btn-sm" type="button" ng-click="$ctrl.cancel()">Cancelar</button>
  <button class="btn btn-primary btn-sm" type="button" ng-show="$ctrl.showokbtn" ng-click="$ctrl.ok()">Aceptar</button>
  <button class="btn btn-primary btn-sm" type="button" ng-show="$ctrl.showeditbtn" ng-click="$ctrl.edit()">Editar</button>
</div>